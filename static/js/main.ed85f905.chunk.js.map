{"version":3,"sources":["images/logo.svg","components/Header.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Card","props","card","onCardClick","id","onCardLike","onCardDelete","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","onClick","link","name","length","CurrentUserContext","React","createContext","Main","cards","onEditProfile","onAddPlace","onEditAvatar","useContext","about","avatar","map","Footer","PopupWithForm","isOpen","title","children","submitButtonText","onClose","onSubmit","noValidate","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","e","preventDefault","infoUser","current","value","ref","defaultValue","placeholder","required","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","currentUser","useEffect","maxLength","onChange","target","minLength","AddPlacePopup","url","setUrl","ImagePopup","api","options","this","_url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_error","info","body","JSON","stringify","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","open","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInfoAndAvatar","result","catch","err","console","log","getCards","Provider","deleteCard","filter","element","deleteLike","newCard","newCards","countLikeApi","newInfo","updateAvatar","updateInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed85f905.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.ff16f24b.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} className=\"header__logo\" alt=\"Логотип\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nfunction Card(props) {\r\n\r\n    const {\r\n        card,\r\n        onCardClick,\r\n        id,\r\n        onCardLike,\r\n        onCardDelete\r\n    } = props;\r\n\r\n    function handleLikeClick() {\r\n        return onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        return onCardDelete(card);\r\n    }\r\n    const isOwn = card.owner._id === id;\r\n    const isLiked = card.likes.some(i => i._id === id);\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `card__basket ${isOwn ? 'card__basket' : 'card__basket_hidden'}`\r\n    );\r\n    const cardLikeButtonClassName = `card__like ${isLiked ? 'card__like_active' : 'card__like'}`;\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"card__id\">\r\n            <div className=\"card__element\">\r\n                <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n                <img className=\"card__img\" src={card.link} alt={card.name} onClick={handleClick} />\r\n                <div className=\"card__about\">\r\n                    <h3 className=\"card__name\">{card.name}</h3>\r\n                    <div>\r\n                        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n                        <p className=\"card__like-number\">{card.likes.length}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n  const {\r\n    cards,\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onEditAvatar,\r\n    onCardClick,\r\n    onCardLike,\r\n    onCardDelete\r\n  } = props;\r\n\r\n  const { name, about, avatar, _id } = useContext(CurrentUserContext);\r\n\r\n\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n\r\n        <div className=\"profile__list\">\r\n          <div className=\"profile__list-about\">\r\n            <div className=\"profile__icon\" onClick={onEditAvatar}>\r\n              <img className=\"profile__image\" src={avatar} alt=\"Аватар\" />\r\n            </div>\r\n\r\n            <div className=\"profile__all\">\r\n              <div className=\"profile__info\">\r\n                <h1 className=\"profile__name\">{name}</h1>\r\n                <button className=\"profile__button-red\" type=\"button\" onClick={onEditProfile}></button>\r\n              </div>\r\n              <p className=\"profile__about\">{about}</p>\r\n            </div>\r\n          </div>\r\n          <button className=\"profile__button-new\" type=\"button\" onClick={onAddPlace}></button>\r\n        </div>\r\n\r\n\r\n      </section>\r\n\r\n      <section className=\"card\">\r\n\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            id={_id}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n          />)\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    const {\r\n        isOpen,\r\n        name,\r\n        title,\r\n        children,\r\n        submitButtonText,\r\n        onClose,\r\n        onSubmit\r\n    } = props;\r\n    return (\r\n\r\n        <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container\">\r\n                <form className={`popup__form popup__form_type_${name}`} name=\"info\" noValidate onSubmit={onSubmit}>\r\n                    <button className={`popup__close popup__close_type_${name}`} type=\"button\" onClick={onClose}></button>\r\n                    <h2 className={`popup__edit popup__edit popup__edit_type_${name}`}>{title}</h2>\r\n                    {children}\r\n                    <button type=\"submit\" className={`popup__save popup__save_type_${name}`} onClick={onClose}>{submitButtonText}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useRef } from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const {\r\n    isOpen,\r\n    onClose,\r\n    onUpdateAvatar\r\n  } = props;\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const infoUser = {\r\n      avatar: inputRef.current.value,\r\n    };\r\n    onUpdateAvatar(infoUser);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Обновить аватар'\r\n      submitButtonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label>\r\n        <input ref={inputRef} type=\"url\" name=\"link\" className=\"popup__input popup__input_info_avatar\" defaultValue=\"\" id=\"src-input\" placeholder=\"Ссылка на аватар\" required />\r\n        <span className=\"popup__input-error\" id=\"src-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useState, useContext, useEffect } from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const {\r\n    isOpen,\r\n    onClose,\r\n    onUpdateUser\r\n  } = props;\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const infoUser = {\r\n      name: name,\r\n      about: description\r\n    };\r\n    onUpdateUser(infoUser);\r\n  }\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeAbout(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Редактировать профиль'\r\n      submitButtonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__field\">\r\n        <input type=\"text\" name=\"profileName\" className=\"popup__input  popup__input_info_name-profile\" id=\"name-input\" defaultValue={name} required=\"2\" maxLength=\"40\" onChange={handleChangeName} />\r\n        <span className=\"popup__input-error\" id=\"name-input-error\">Пустое поле</span>\r\n      </label>\r\n      <label className=\"popup__field\">\r\n        <input type=\"text\" name=\"about\" className=\"popup__input popup__input_info_about-profile\" id=\"about-input\" defaultValue={description} required minLength=\"2\" maxLength=\"200\" onChange={handleChangeAbout} />\r\n        <span className=\"popup__input-error\" id=\"about-input-error\">Пустое поле</span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const {\r\n        isOpen,\r\n        onClose,\r\n        onAddPlace\r\n    } = props;\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [url, setUrl] = useState(\"\");\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const newCard = {\r\n            name: name,\r\n            link: url\r\n        };\r\n        onAddPlace(newCard);\r\n    }\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n    function handleChangeUrl(e) {\r\n        setUrl(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='card'\r\n            title='Новое место'\r\n            submitButtonText='Создать'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label>\r\n                <input value={name} type=\"text\" name=\"name\" className=\"popup__input popup__input_info_name-photo\" id=\"img-name-input\" placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" onChange={handleChangeName} />\r\n                <span className=\"popup__input-error\" id=\"img-name-input-error\"></span>\r\n            </label>\r\n            <label>\r\n                <input value={url} type=\"url\" name=\"link\" className=\"popup__input popup__input_info_link-photo\" id=\"url-input\" placeholder=\"Ссылка на картинку\" required onChange={handleChangeUrl} />\r\n                <span className=\"popup__input-error\" id=\"url-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  const {\r\n    isOpen,\r\n    link,\r\n    name,\r\n    onClose\r\n  } = props;\r\n\r\n  return (\r\n    <div className={`popup popup_type_photo ${isOpen && 'popup_opened'}`}>\r\n      <figure className=\"popup__photo\">\r\n        <div className=\"popup__conteiner\">\r\n          <button className=\"popup__close popup__close_type_photo\" type=\"button\" onClick={onClose}></button>\r\n          <img className=\"popup__photo-image\" src={link} alt={name} />\r\n          <figcaption className=\"popup__photo-name\">{name}</figcaption>\r\n        </div>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  \r\n  _error(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else  return Promise.reject(`Ошибка: ${res.status}`);\r\n\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    }).then(this._error)\r\n  }\r\n\r\n  newCard(info) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(\r\n        info\r\n      )\r\n    }).then(this._error)\r\n  }\r\n\r\n  deleteCard(info) {\r\n    return fetch(`${this._url}/cards/${info._id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    }).then(this._error)\r\n  }\r\n\r\n  getInfoAndAvatar() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    }).then(this._error)\r\n  }\r\n\r\n  updateInfo(info) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(\r\n        info\r\n      )\r\n    }).then(this._error)\r\n  }\r\n\r\n  updateAvatar(info) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(\r\n        info\r\n      )\r\n    }).then(this._error)\r\n  }\r\n\r\n\r\n  deleteLike(info) {\r\n    return fetch(`${this._url}/cards/likes/${info._id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._error)\r\n  }\r\n\r\n  countLikeApi(info) {\r\n    return fetch(`${this._url}/cards/likes/${info._id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then(this._error)\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\nexport const api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-18',\r\n  headers: {\r\n      authorization: 'ab8fdcd7-fa1e-487f-a234-e9eb9d7b21b3',\r\n      'Content-Type': 'application/json'\r\n  }\r\n});","import React, { useState, useEffect } from 'react';\nimport '../index.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({\n        open: false,\n        link: '',\n        name: '',\n    });\n    const [currentUser, setCurrentUser] = useState({});    \n    const [cards, setCards] = useState([]);\n\n    useEffect(() => {\n        api\n            .getInfoAndAvatar()\n            .then((result) => {\n                setCurrentUser(result);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    useEffect(() => {\n        api\n            .getCards()\n            .then((result) => {\n                setCards(result);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n    function handleUpdateUser(newInfo) {\n        api\n            .updateInfo(newInfo)\n            .then((result) => {\n                setCurrentUser(result);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateAvatar(newInfo) {\n        api\n            .updateAvatar(newInfo)\n            .then((result) => {\n                setCurrentUser(result);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleAddPlaceSubmit(newCard) {\n        api\n            .newCard(newCard)\n            .then((result) => {\n                setCards([result, ...cards]);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some((element) =>\n            element._id === currentUser._id);\n\n        if (!isLiked) {\n            api\n                .countLikeApi(card)\n                .then((newCard) => {\n                    const newCards = cards.map((element) =>\n                        element._id === card._id ? newCard : element);\n                        setCards(newCards);\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n        } else {\n\n            api\n                .deleteLike(card)\n                .then((newCard) => {\n                    const newCards = cards.map((element) =>\n                        element._id === card._id ? newCard : element);\n                        setCards(newCards);\n                })\n                .catch((err) => {\n                    console.log(err);\n                })\n        }\n    }\n\n    function handleCardDelete(card) {\n        api\n            .deleteCard(card)\n            .then(() => {\n                setCards(cards.filter((element) =>\n                    element._id !== card._id\n\n                ));\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setSelectedCard({\n            open: false,\n            link: '',\n            name: '',\n        });\n    }\n\n    function handleCardClick(card) {\n        const { link, name } = card;\n        setSelectedCard({\n            open: true,\n            link: link,\n            name: name\n        });\n    }\n\n\n    return (\n        <div className=\"root\">\n            <Header />\n            <CurrentUserContext.Provider value={currentUser}>\n                <Main\n                    onCardDelete={handleCardDelete}\n                    cards={cards}\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleCardLike}\n                />\n\n                <Footer />\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}\n                />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser}\n\n                />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleAddPlaceSubmit}\n\n                />\n\n                <ImagePopup\n                    isOpen={selectedCard.open}\n                    name={selectedCard.name}\n                    link={selectedCard.link}\n                    onClose={closeAllPopups}\n                />\n            </CurrentUserContext.Provider>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}